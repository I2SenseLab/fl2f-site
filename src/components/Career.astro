---
import { AstroComponentFactory } from "astro/dist/runtime/server";
export interface Props {
  title: string;
  Content: AstroComponentFactory;
  link?: string;
}

const { title, Content, link } = Astro.props as Props;

import "../styles/career.scss";
---

<section class="career">
  <div class="container">
    <div class="title">
      <div class="left">
        <h2 class="title">{title}</h2>
        <!-- <h2 class="icon">&#94;</h2> -->
        <h2 class="icon">></h2>
        <!-- <div class="icon" id={title}></div> -->
      </div>
      {
        link && (
          <a href={link}>
            <button class="btn btn-primary">Apply</button>
          </a>
        )
      }
    </div>
    <div class="content hidden">
      <Content />
      {
        link && (
          <div class="interested">
            <h3>Interested?</h3>

            <a href={link}>
              <button class="btn btn-primary">Apply</button>
            </a>

            <p>
              <em>
                We thank all candidates for submitting their applications. Only
                candidates chosen for the next step will be contacted.
              </em>
            </p>
          </div>
        )
      }
    </div>
  </div>
</section>

<script>
  const icons = document.querySelectorAll(
    ".icon"
  ) as NodeListOf<HTMLDivElement>;

  const titles = document.querySelectorAll(
    ".left"
  ) as NodeListOf<HTMLDivElement>;

  const content = document.querySelectorAll(
    ".content"
  ) as NodeListOf<HTMLDivElement>;

  // icons.forEach((icon, index) => {
  //   icon.addEventListener("click", () => {
  //     content[index].classList.toggle("hidden");
  //     icon.classList.toggle("rotate");
  //   });
  // });

  titles.forEach((title, index) => {
    title.addEventListener("click", () => {
      content[index].classList.toggle("hidden");
      // title.classList.toggle("rotate");
    });
  });
</script>
